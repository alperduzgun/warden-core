# Warden Configuration with LSP Integration
# This example shows how to enable LSP integration for enhanced diagnostics

# Pipeline configuration
pipeline:
  # Standard pipeline settings
  strategy: sequential
  timeout: 300
  fail_fast: true

  # Analysis level (basic, standard, deep)
  analysis_level: standard

  # Enable/disable phases
  enable_validation: true
  enable_fortification: false  # Disable to save time
  enable_cleaning: false

  # LSP Integration (NEW!)
  # Collects diagnostics from language servers alongside validation frames
  lsp_config:
    enabled: true  # Set to false to disable LSP integration

    # Specify which language servers to use (optional)
    # If empty or omitted, Warden will auto-detect available servers
    servers:
      - python      # pyright, pylsp, jedi-language-server
      - typescript  # typescript-language-server
      - rust        # rust-analyzer
      - go          # gopls
      # Add more as needed...

    # Note: Language servers must be installed on your system
    # Example: npm install -g pyright typescript-language-server

# Frames configuration
frames:
  # Security frame settings
  security:
    enabled: true
    severity_threshold: medium

  # Resilience frame settings
  resilience:
    enabled: true

  # Property frame settings
  property:
    enabled: true

# Suppression rules (optional)
suppression:
  rules:
    - pattern: "test_*.py"
      frames: ["security"]
      reason: "Test files are not production code"

# Global rules (optional)
rules:
  - id: custom-rule-1
    description: "Enforce custom coding standard"
    severity: medium
    pattern: "TODO:"

# Semantic search (optional, for advanced features)
semantic_search:
  enabled: false
  embedding_model: "all-MiniLM-L6-v2"

# LLM configuration (for AI-powered features)
llm:
  provider: groq  # or openai, ollama
  model: llama-3.3-70b-versatile
  temperature: 0.0
  max_tokens: 2048

# Output configuration
output:
  format: sarif  # json, sarif, text
  path: warden-report.sarif
  include_passed: false
  include_suppressed: false

# CI/CD mode
ci_mode: false  # Set to true in CI to use pre-computed intelligence
